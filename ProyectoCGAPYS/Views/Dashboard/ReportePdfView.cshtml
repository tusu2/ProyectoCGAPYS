@model ProyectoCGAPYS.Models.Proyectos
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Reporte de Proyecto: @Model.NombreProyecto</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- Importamos una fuente más profesional desde Google Fonts --- */
     
        /* --- Paleta de colores y variables para fácil modificación --- */
        :root {
            --font-family: 'Poppins', sans-serif;
            --color-primary: #0A2240; /* Azul oscuro */
            --color-secondary: #3A7CA5; /* Azul medio */
            --color-text: #333333;
            --color-text-light: #777777;
            --color-border: #EAEAEA;
        }

        /* --- Estilos Generales --- */
        body {
            font-family: var(--font-family);
            color: var(--color-text);
            background-color: #FFF;
            margin: 0;
            padding: 0;
            font-size: 12px;
        }

        /* --- Contenedor principal para centrar el contenido y darle aire --- */
        .container {
            max-width: 800px;
            margin: 40px auto;
            padding: 40px;
            border: 1px solid var(--color-border);
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
        }

        /* --- Encabezado con Logo y Título --- */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 2px solid var(--color-primary);
            padding-bottom: 20px;
        }

        .header img.logo {
            width: 150px; /* Tamaño del logo */
            height: auto;
        }
        
        .header-text {
            text-align: right;
        }

        .header-text h1 {
            margin: 0;
            color: var(--color-secondary);
            font-weight: 300;
            font-size: 18px;
        }

        .header-text h2 {
            margin: 0;
            color: var(--color-primary);
            font-weight: 700;
            font-size: 28px;
        }

        /* --- Títulos de Sección --- */
        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--color-primary);
            margin-top: 40px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--color-border);
        }

        /* --- Cuadrícula de Detalles Mejorada --- */
        .details-grid {
            display: grid;
            grid-template-columns: 150px 1fr; /* Columna de etiqueta fija, valor flexible */
            gap: 15px 20px;
            margin-top: 20px;
            background-color: #F9F9F9;
            padding: 20px;
            border-radius: 8px;
        }

        .details-grid strong {
            font-weight: 600;
            color: var(--color-primary);
        }

        /* --- Galería de Imágenes con Escala Definida --- */
        .image-gallery {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Dos columnas */
            gap: 20px;
            margin-top: 20px;
        }

        .image-container {
            break-inside: avoid;
            page-break-inside: avoid;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            overflow: hidden; /* Para que la imagen respete el borde redondeado */
        }

        .image-container img {
            width: 100%;
            height: 250px; /* <-- ALTURA FIJA PARA TODAS LAS IMÁGENES */
            object-fit: cover; /* <-- La imagen cubre el espacio sin deformarse */
            display: block;
        }

        .image-container p {
            padding: 10px;
            margin: 0;
            background-color: #F9F9F9;
            color: var(--color-text-light);
            font-size: 11px;
        }

        /* --- Pie de Página --- */
        .footer {
            margin-top: 50px;
            text-align: center;
            font-size: 10px;
            color: var(--color-text-light);
            border-top: 1px solid var(--color-border);
            padding-top: 20px;
        }

    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <img src="@Url.Content("~/Img/Logo_de_la_UAdeC.svg.png")" alt="Logo UAdeC" class="logo" />
            <div class="header-text">
                <h1>Reporte de Proyecto</h1>
                <h2>@Model.NombreProyecto</h2>
            </div>
        </div>

        <div class="details-grid">
            <strong>ID del Proyecto:</strong>
            <span>@Model.Id</span>

            <strong>Estatus:</strong>
            <span>@Model.Estatus</span>
            
            <strong>Presupuesto:</strong>
            <span>@Model.Presupuesto.ToString("C")</span>

            <strong>Responsable:</strong>
            <span>@Model.NombreResponsable</span>
            
            <strong>Descripción:</strong>
            <span>@Model.Descripcion</span>
        </div>

        <h3 class="section-title">Informe de Avances</h3>
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non risus. Suspendisse lectus tortor, dignissim sit amet, adipiscing nec, ultricies sed, dolor. Cras elementum ultrices diam. Maecenas ligula massa, varius a, semper congue, euismod non, mi. Proin porttitor, orci nec nonummy molestie, enim est eleifend mi, non fermentum diam nisl sit amet erat.
        </p>

        <h3 class="section-title">Imágenes del Proyecto</h3>
        <div class="image-gallery">
            @foreach (var imagen in Model.Imagenes)
            {
                <div class="image-container">
                    <img src="@Url.Content("~" + imagen.ImagenUrl)" />
                    <p>@imagen.Descripcion</p>
                </div>
            }
        </div>

        <div class="footer">
            Generado el @DateTime.Now.ToString("dd/MM/yyyy 'a las' HH:mm") por el Sistema de Control y Seguimiento de Proyectos.
        </div>
    </div>

</body>
</html>